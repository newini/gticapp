<% content_for :title, 'Events' %>

<div class="container-fluid">
  <h1>GTIC Events</h1>

  <!-- Search -->
  <%= form_tag '/search_event', method: 'get', remote: true, class: "form-inline", role: "form" do %>
     <div class="form-group">
      <strong>イベント検索</strong>
      <span>Keyword: </span>
      <%= text_field_tag :keyword, params[:keyword], class: "form-control", placeholder: "keyword" %>
    </div>
    <%= submit_tag 'Search', :name => nil, class: 'btn btn-primary' %>
    アルファベットによる検索もOK（ひらがな、カタカナは未対応）
  <% end %>

  <!-- per year Paginate -->
  <% if @start_date.present? and @last_date.present? %>
    <div class="row">
      <% date = @last_date%>
      <% while date >= @start_date do %>
        <%= link_to "#{date.strftime("%Y")}年", event_list_path(:year => date.strftime("%Y-%m-%d")), class: "btn btn-info", remote: true %>
        <% date = date - 1.year %>
      <% end %>
    </div>
  <% end %>

  <div id="ajax_container">
    <%= render 'events' %>
  </div>

</div>
